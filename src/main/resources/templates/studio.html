<<<<<<< HEAD

=======
<<<<<<< HEAD
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="images/png" rel="icon" href="/images/icons8-youtube.png">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"
          integrity="sha384-3B6NwesSXE7YJlcLI9RpRqGf2p/EgVH8BgoKTaUrmKNDkHPStTQ3EyoYjCGXaOTS" crossorigin="anonymous"/>

    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <!-- Add Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <title>Studio</title>

</head>

<body>
<!--    header      -->
<header class="header">
    <div class="header_container">
        <div class="none"></div>
        <div class="search">
            <input type="text" placeholder="Search">
            <i class="fa-solid fa-magnifying-glass"></i>
        </div>

        <div class="user" >
            <div class="icon" >
                <button type="button" class="btn btn-primary" onclick="openCreateModal()">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="icon icon-tabler icon-tabler-video-plus"
                         width="24" height="24" viewBox="0 0 24 24"
                         stroke-width="2" stroke="currentColor" fill="none"
                         stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M15 10l4.553 -2.276a1 1 0 0 1 1.447 .894v6.764a1 1 0 0 1 -1.447 .894l-4.553 -2.276v-4z" />
                        <rect x="3" y="6" width="12" height="12" rx="2" /> <line x1="7" y1="12" x2="11" y2="12" />
                        <line x1="9" y1="10" x2="9" y2="14" /> </svg> Tạo
                </button>
            </div>
            <div class="img" style="margin-left: 20px;margin-right: 50px; display: flex;align-items: center">
                <img src="/images/logo.png" alt="">
                <h6 style="color: white; width: 100px; align-items: center;padding-top: 7px;margin-left: 7px">Nhan.phan</h6>
            </div>
        </div>
        <div class="toggle">
            <i class="fa-solid fa-bars" id="header-toggle"></i>
        </div>
    </div>
</header>

<section class="nav" id="navbar">
    <nav class="nav_container">
        <div>
            <a href="#" class="nav_link nav_logo ">
                <i class="fa-solid fa-bars nav_icon"></i>
                <span class="logo_name">
            <i class="fab fa-youtube"></i>
            Studio
          </span>
            </a>

            <div class="nav_list" style="margin-left: 15px">
                <div class="nav_items navtop">
                    <div class="img">
                        <img src="/images/logo.png" alt="">
                    </div>
                    <a href="#" class="nav_link navtop active">
                        <span class="nav_name">Trang tổng quan</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">Nội dung</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">Bình luận</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">Library</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">History</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">Like</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>
</section>
<!--    nav      -->

<main>
    <section class="video_content grid">

    </section>
</main>
<div class="modal fade" id="createVideoContainer" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <form id="createVideoForm" enctype="multipart/form-data">
        <div class="modal-dialog">
            <div class="modal-content">
                <div STYLE="display: flex">
                    <div>
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Create Video</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <label for="title" class="form-label">Title</label>
                                <input type="text" class="form-control" id="title" name="title"
                                       pattern="^[A-Za-z ]{6,20}"
                                       required>
                            </div>
                            <div class="mb-3">
                                <label for="description" class="form-label">Description</label>
                                <textarea class="form-control" id="description" name="description" required></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="image" class="form-label">Image</label>
                                <input type="file" class="form-control" id="image" name="image" accept="image/*" required>
                                <img id="imagePreview" src="#" alt="Preview" style="display: none; max-width: 200px; max-height: 200px;">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Tag</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="tag1" id="tag1" name="tags">
                                    <label class="form-check-label" for="tag1">
                                        Tag 1
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="tag2" id="tag2" name="tags">
                                    <label class="form-check-label" for="tag2">
                                        Tag 2
                                    </label>
                                </div>
                                <!-- Add more checkboxes for tags as needed -->
                            </div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="video" class="form-label">Video</label>
                        <input type="file" class="form-control" id="video" name="video" accept="video/*" required>
                        <video id="videoPreview" src="#" style="display: none; max-width: 300px;" controls></video>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Create</button>
                </div>
            </div>
        </div>
    </form>
</div>

<script src="/js/main.js" charset="utf-8"></script>
<script>
    const API_STUDIO = 'http://localhost:8080/api/studios';
    let video;

    function openCreateModal() {
        $('#createVideoContainer').modal('show');
    }

    function showCreateVideoForm() {
        $.ajax({
            url: API_STUDIO + '/create',
            method: 'GET',
            success: function (data) {
                const createVideoContainer = document.getElementById('createVideoContainer');
                createVideoContainer.innerHTML = data;
                createVideoContainer.classList.add('active');
            },
            error: function (error) {
                console.error('Error:', error);
            }
        });
    }

    function hideCreateVideoForm() {
        const createVideoContainer = document.getElementById('createVideoContainer');
        createVideoContainer.innerHTML = '';
        createVideoContainer.classList.remove('active');
    }

    const createButton = document.querySelector('.user .icon button');
    createButton.addEventListener('click', showCreateVideoForm);

    const closeButton = document.querySelector('#createVideoContainer .modal-footer .btn-secondary');
    closeButton.addEventListener('click', hideCreateVideoForm);

    const createVideoForm = document.getElementById('createVideoForm');
    createVideoForm.addEventListener('submit', function (event) {
        event.preventDefault();

        const formData = new FormData(this);

        $.ajax({
            url: API_STUDIO,
            method: 'POST',
            data: formData,
            processData: false,
            contentType: false,
            success: function (data) {
                console.log('Create video success:', data);

                hideCreateVideoForm();
                renderVideos();
            },
            error: function (error) {
                console.error('Error:', error);
            }
        });
    });

    function renderVideos() {
        $.ajax({
            url: API_STUDIO,
            method: 'GET',
            success: function (data) {
                const videoContent = document.querySelector('.video_content');
                videoContent.innerHTML = '';

                data.forEach(function (video) {
                    const videoItem = document.createElement('div');
                    videoItem.classList.add('video_item');
                    videoItem.innerHTML = `
              <h3 class="video_title">${video.title}</h3>
              <p class="video_description">${video.description}</p>
              <img src="${video.image}" alt="${video.title}" class="video_image">
              <video controls>
                <source src="${video.video}" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            `;
                    videoContent.appendChild(videoItem);
                });
            },
            error: function (error) {
                console.error('Error:', error);
            }
        });
    }

    renderVideos();

    const imageInput = document.getElementById('image');
    const imagePreview = document.getElementById('imagePreview');

    imageInput.addEventListener('change', function (event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                imagePreview.src = e.target.result;
                imagePreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        } else {
            imagePreview.src = '#';
            imagePreview.style.display = 'none';
        }
    });

    // Xử lý sự kiện khi người dùng chọn video
    const videoInput = document.getElementById('video');
    const videoPreview = document.getElementById('videoPreview');

    videoInput.addEventListener('change', function (event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                videoPreview.src = e.target.result;
                videoPreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        } else {
            videoPreview.src = '#';
            videoPreview.style.display = 'none';
        }
    });
</script>
<script src="/js/main.js" charset="utf-8"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

=======
>>>>>>> 32ccb657380ae0380a511aecf2a254c6615e7630
<!DOCTYPE html>
<html lang="en">

<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="images/png" rel="icon" href="/images/icons8-youtube.png">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"
          integrity="sha384-3B6NwesSXE7YJlcLI9RpRqGf2p/EgVH8BgoKTaUrmKNDkHPStTQ3EyoYjCGXaOTS" crossorigin="anonymous"/>

    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <!-- Add Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <title>Studio</title>

</head>

<body>
<!--    header      -->
<header class="header">
    <div class="header_container">
        <div class="none"></div>
        <div class="search">
            <input type="text" placeholder="Search">
            <i class="fa-solid fa-magnifying-glass"></i>
        </div>

        <div class="user" >
            <div class="icon" >
                <button type="button" class="btn btn-primary" onclick="openCreateModal()">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="icon icon-tabler icon-tabler-video-plus"
                         width="24" height="24" viewBox="0 0 24 24"
                         stroke-width="2" stroke="currentColor" fill="none"
                         stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M15 10l4.553 -2.276a1 1 0 0 1 1.447 .894v6.764a1 1 0 0 1 -1.447 .894l-4.553 -2.276v-4z" />
                        <rect x="3" y="6" width="12" height="12" rx="2" /> <line x1="7" y1="12" x2="11" y2="12" />
                        <line x1="9" y1="10" x2="9" y2="14" /> </svg> Tạo
                </button>
            </div>
            <div class="img" style="margin-left: 20px;margin-right: 50px; display: flex;align-items: center">
                <img src="/images/logo.png" alt="">
                <h6 style="color: white; width: 100px; align-items: center;padding-top: 7px;margin-left: 7px">Nhan.phan</h6>
            </div>
        </div>
        <div class="toggle">
            <i class="fa-solid fa-bars" id="header-toggle"></i>
        </div>
    </div>
</header>

<section class="nav" id="navbar">
    <nav class="nav_container">
        <div>
            <a href="#" class="nav_link nav_logo ">
                <i class="fa-solid fa-bars nav_icon"></i>
                <span class="logo_name">
            <i class="fab fa-youtube"></i>
            Studio
          </span>
            </a>

            <div class="nav_list" style="margin-left: 15px">
                <div class="nav_items navtop">
                    <div class="img">
                        <img src="/images/logo.png" alt="">
                    </div>
                    <a href="#" class="nav_link navtop active">
                        <span class="nav_name">Trang tổng quan</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">Nội dung</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">Bình luận</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">Library</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">History</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">Like</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>
</section>
<!--    nav      -->

<main>
    <section class="video_content grid">

    </section>
</main>
<div class="modal fade" id="createVideoContainer" tabindex="-1" aria-labelledby="exampleModalLabel"
     aria-hidden="true">
    <form id="createVideoForm" enctype="multipart/form-data">
        <div class="modal-dialog">
            <div class="modal-content">
                <div class="modal-header">
                    <h5 class="modal-title" id="exampleModalLabel">Create Video</h5>
                    <button type="button" class="btn-close" data-bs-dismiss="modal"
                            aria-label="Close"></button>
                </div>
                <div class="modal-body">
                    <div class="mb-3">
                        <label for="title" class="form-label">Title</label>
                        <input type="text" class="form-control" id="title" name="title"
                               pattern="^[A-Za-z ]{6,50}" required>
                    </div>
                    <div class="mb-3">
                        <label for="description" class="form-label">Description</label>
                        <textarea class="form-control" id="description" name="description" required></textarea>
                    </div>
                    <div class="mb-3">
                        <label class="form-label">Tag</label>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="tag1" id="tag1" name="tags">
                            <label class="form-check-label" for="tag1">Tag 1</label>
                        </div>
                        <div class="form-check">
                            <input class="form-check-input" type="checkbox" value="tag2" id="tag2" name="tags">
                            <label class="form-check-label" for="tag2">Tag 2</label>
                        </div>
                        <!-- Add more checkboxes for tags as needed -->
                    </div>
                    <div class="mb-3">
                        <label for="image" class="form-label">Image</label>
                        <input type="file" class="form-control" id="image" name="image" accept="image/*"
                               required>
                        <img id="imagePreview" src="#" alt="Preview"
                             style="display: none; max-width: 200px; max-height: 200px;">
                    </div>
                    <div class="mb-3">
                        <label for="video" class="form-label">Video</label>
                        <input type="file" class="form-control" id="video" name="video" accept="video/*"
                               required>
                        <video id="videoPreview" src="#" style="display: none; max-width: 300px;"
                               controls></video>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Create</button>
                </div>
            </div>
        </div>
    </form>
</div>
<script src="/js/main.js" charset="utf-8"></script>
<script>
    const API_STUDIO = 'http://localhost:8080/api/studios';
    let video;

    function openCreateModal() {
        $('#createVideoContainer').modal('show');
    }

    function showCreateVideoForm() {
        $.ajax({
            url: API_STUDIO + '/create',
            method: 'GET',
            success: function (data) {
                const createVideoContainer = document.getElementById('createVideoContainer');
                createVideoContainer.innerHTML = data;
                createVideoContainer.classList.add('active');
            },
            error: function (error) {
                console.error('Error:', error);
            }
        });
    }

    function hideCreateVideoForm() {
        const createVideoContainer = document.getElementById('createVideoContainer');
        createVideoContainer.innerHTML = '';
        createVideoContainer.classList.remove('active');
    }

    const createButton = document.querySelector('.user .icon button');
    createButton.addEventListener('click', showCreateVideoForm);

    const closeButton = document.querySelector('#createVideoContainer .modal-footer .btn-secondary');
    closeButton.addEventListener('click', hideCreateVideoForm);

    const createVideoForm = document.getElementById('createVideoForm');
    createVideoForm.addEventListener('submit', function (event) {
        event.preventDefault();

        const formData = new FormData(this);

        $.ajax({
            url: API_STUDIO,
            method: 'POST',
            data: formData,
            processData: false,
            contentType: false,
            success: function (data) {
                console.log('Create video success:', data);

                hideCreateVideoForm();
                renderVideos();
            },
            error: function (error) {
                console.error('Error:', error);
            }
        });
    });

    function renderVideos() {
        $.ajax({
            url: API_STUDIO,
            method: 'GET',
            success: function (data) {
                const videoContent = document.querySelector('.video_content');
                videoContent.innerHTML = '';

                data.forEach(function (video) {
                    const videoItem = document.createElement('div');
                    videoItem.classList.add('video_item');
                    videoItem.innerHTML = `
              <h3 class="video_title">${video.title}</h3>
              <p class="video_description">${video.description}</p>
              <img src="${video.image}" alt="${video.title}" class="video_image">
              <video controls>
                <source src="${video.video}" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            `;
                    videoContent.appendChild(videoItem);
                });
            },
            error: function (error) {
                console.error('Error:', error);
            }
        });
    }

    renderVideos();

    const imageInput = document.getElementById('image');
    const imagePreview = document.getElementById('imagePreview');

    imageInput.addEventListener('change', function (event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                imagePreview.src = e.target.result;
                imagePreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        } else {
            imagePreview.src = '#';
            imagePreview.style.display = 'none';
        }
    });

    const videoInput = document.getElementById('video');
    const videoPreview = document.getElementById('videoPreview');

    videoInput.addEventListener('change', function (event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                videoPreview.src = e.target.result;
                videoPreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        } else {
            videoPreview.src = '#';
            videoPreview.style.display = 'none';
        }
    });
</script>
<script src="/js/main.js" charset="utf-8"></script>
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>
</body>

>>>>>>> b6e282c763f373846fdb22f3c89214c34615ec78
=======
<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link type="images/png" rel="icon" href="/images/icons8-youtube.png">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v6.0.0/css/all.css"
          integrity="sha384-3B6NwesSXE7YJlcLI9RpRqGf2p/EgVH8BgoKTaUrmKNDkHPStTQ3EyoYjCGXaOTS" crossorigin="anonymous"/>

    <link rel="stylesheet" type="text/css" href="/css/style.css">
    <!-- Add Bootstrap CSS -->
    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css">
    <title>Studio</title>

</head>

<body>
<!--    header      -->
<header class="header">
    <div class="header_container">
        <div class="none"></div>
        <div class="search">
            <input type="text" placeholder="Search">
            <i class="fa-solid fa-magnifying-glass"></i>
        </div>

        <div class="user" >
            <div class="icon" >
                <button type="button" class="btn btn-primary" onclick="openCreateModal()">
                    <svg xmlns="http://www.w3.org/2000/svg"
                         class="icon icon-tabler icon-tabler-video-plus"
                         width="24" height="24" viewBox="0 0 24 24"
                         stroke-width="2" stroke="currentColor" fill="none"
                         stroke-linecap="round" stroke-linejoin="round">
                        <path stroke="none" d="M0 0h24v24H0z" fill="none"/>
                        <path d="M15 10l4.553 -2.276a1 1 0 0 1 1.447 .894v6.764a1 1 0 0 1 -1.447 .894l-4.553 -2.276v-4z" />
                        <rect x="3" y="6" width="12" height="12" rx="2" /> <line x1="7" y1="12" x2="11" y2="12" />
                        <line x1="9" y1="10" x2="9" y2="14" /> </svg> Tạo
                </button>
            </div>
            <div class="img" style="margin-left: 20px;margin-right: 50px; display: flex;align-items: center">
                <img src="/images/logo.png" alt="">
                <h6 style="color: white; width: 100px; align-items: center;padding-top: 7px;margin-left: 7px">Nhan.phan</h6>
            </div>
        </div>
        <div class="toggle">
            <i class="fa-solid fa-bars" id="header-toggle"></i>
        </div>
    </div>
</header>

<section class="nav" id="navbar">
    <nav class="nav_container">
        <div>
            <a href="#" class="nav_link nav_logo ">
                <i class="fa-solid fa-bars nav_icon"></i>
                <span class="logo_name">
            <i class="fab fa-youtube"></i>
            Studio
          </span>
            </a>

            <div class="nav_list" style="margin-left: 15px">
                <div class="nav_items navtop">
                    <div class="img">
                        <img src="/images/logo.png" alt="">
                    </div>
                    <a href="#" class="nav_link navtop active">
                        <span class="nav_name">Trang tổng quan</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">Nội dung</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">Bình luận</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">Library</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">History</span>
                    </a>
                    <a href="#" class="nav_link navtop">
                        <span class="nav_name">Like</span>
                    </a>
                </div>
            </div>
        </div>
    </nav>
</section>
<!--    nav      -->

<main>
    <section class="video_content grid">

    </section>
</main>
<div class="modal fade" id="createVideoContainer" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <form id="createVideoForm" enctype="multipart/form-data">
        <div class="modal-dialog">
            <div class="modal-content">
                <div STYLE="display: flex">
                    <div>
                        <div class="modal-header">
                            <h5 class="modal-title" id="exampleModalLabel">Create Video</h5>
                            <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
                        </div>
                        <div class="modal-body">
                            <div class="mb-3">
                                <label for="title" class="form-label">Title</label>
                                <input type="text" class="form-control" id="title" name="title"
                                       pattern="^[A-Za-z ]{6,20}"
                                       required>
                            </div>
                            <div class="mb-3">
                                <label for="description" class="form-label">Description</label>
                                <textarea class="form-control" id="description" name="description" required></textarea>
                            </div>
                            <div class="mb-3">
                                <label for="image" class="form-label">Image</label>
                                <input type="file" class="form-control" id="image" name="image" accept="image/*" required>
                                <img id="imagePreview" src="#" alt="Preview" style="display: none; max-width: 200px; max-height: 200px;">
                            </div>
                            <div class="mb-3">
                                <label class="form-label">Tag</label>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="tag1" id="tag1" name="tags">
                                    <label class="form-check-label" for="tag1">
                                        Tag 1
                                    </label>
                                </div>
                                <div class="form-check">
                                    <input class="form-check-input" type="checkbox" value="tag2" id="tag2" name="tags">
                                    <label class="form-check-label" for="tag2">
                                        Tag 2
                                    </label>
                                </div>
                                <!-- Add more checkboxes for tags as needed -->
                            </div>
                        </div>
                    </div>

                    <div class="mb-3">
                        <label for="video" class="form-label">Video</label>
                        <input type="file" class="form-control" id="video" name="video" accept="video/*" required>
                        <video id="videoPreview" src="#" style="display: none; max-width: 300px;" controls></video>
                    </div>
                </div>
                <div class="modal-footer">
                    <button type="button" class="btn btn-secondary" data-bs-dismiss="modal">Close</button>
                    <button type="submit" class="btn btn-primary">Create</button>
                </div>
            </div>
        </div>
    </form>
</div>
<!--<script src="/js/main.js" charset="utf-8"></script>-->
<script src="https://code.jquery.com/jquery-3.6.0.min.js"></script>
<script src="https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/js/bootstrap.min.js"></script>

<script>
    const API_STUDIO = 'http://localhost:8080/api/studios';
    let video;

    function openCreateModal() {
        $('#createVideoContainer').modal('show');
    }

    function showCreateVideoForm() {
        $.ajax({
            url: API_STUDIO + '/create',
            method: 'GET',
            success: function (data) {
                const createVideoContainer = document.getElementById('createVideoContainer');
                createVideoContainer.innerHTML = data;
                createVideoContainer.classList.add('active');
            },
            error: function (error) {
                console.error('Error:', error);
            }
        });
    }

    function hideCreateVideoForm() {
        const createVideoContainer = document.getElementById('createVideoContainer');
        createVideoContainer.innerHTML = '';
        createVideoContainer.classList.remove('active');
    }

    const createButton = document.querySelector('.user .icon button');
    createButton.addEventListener('click', showCreateVideoForm);

    const closeButton = document.querySelector('#createVideoContainer .modal-footer .btn-secondary');
    closeButton.addEventListener('click', hideCreateVideoForm);

    const createVideoForm = document.getElementById('createVideoForm');
    createVideoForm.addEventListener('submit', function (event) {
        event.preventDefault();

        const formData = new FormData(this);

        $.ajax({
            url: API_STUDIO,
            method: 'POST',
            data: formData,
            processData: false,
            contentType: false,
            success: function (data) {
                console.log('Create video success:', data);

                hideCreateVideoForm();
                renderVideos();
            },
            error: function (error) {
                console.error('Error:', error);
            }
        });
    });

    function renderVideos() {
        $.ajax({
            url: API_STUDIO,
            method: 'GET',
            success: function (data) {
                const videoContent = document.querySelector('.video_content');
                videoContent.innerHTML = '';

                data.forEach(function (video) {
                    const videoItem = document.createElement('div');
                    videoItem.classList.add('video_item');
                    videoItem.innerHTML = `
              <h3 class="video_title">${video.title}</h3>
              <p class="video_description">${video.description}</p>
              <img src="${video.image}" alt="${video.title}" class="video_image">
              <video controls>
                <source src="${video.video}" type="video/mp4">
                Your browser does not support the video tag.
              </video>
            `;
                    videoContent.appendChild(videoItem);
                });
            },
            error: function (error) {
                console.error('Error:', error);
            }
        });
    }

    renderVideos();

    const imageInput = document.getElementById('image');
    const imagePreview = document.getElementById('imagePreview');

    imageInput.addEventListener('change', function (event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                imagePreview.src = e.target.result;
                imagePreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        } else {
            imagePreview.src = '#';
            imagePreview.style.display = 'none';
        }
    });

    const videoInput = document.getElementById('video');
    const videoPreview = document.getElementById('videoPreview');

    videoInput.addEventListener('change', function (event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function (e) {
                videoPreview.src = e.target.result;
                videoPreview.style.display = 'block';
            };
            reader.readAsDataURL(file);
        } else {
            videoPreview.src = '#';
            videoPreview.style.display = 'none';
        }
    });
</script>

</body>


>>>>>>> a0ec43957822d9d53a48f41f02e2920eba66559e
</html>